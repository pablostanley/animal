---
title: API Reference
description: "Animal's MVP is intentionally small: preset tokens in an `an` prop, plus a presence boundary for exit animations."
---

import Link from "next/link";

<div className="mt-6 flex flex-col gap-3 sm:flex-row sm:items-center">
  <Link href="/docs/presets" className="inline-flex h-10 items-center justify-center rounded-md border border-black/10 bg-black/5 px-4 text-sm font-medium text-black/70 hover:bg-black/10 dark:border-white/10 dark:bg-white/5 dark:text-white/80 dark:hover:bg-white/10">
    Browse presets
  </Link>
  <Link href="/manifest.json" className="rounded-md text-sm text-black/50 hover:text-black dark:text-white/50 dark:hover:text-white">
    Manifest JSON
  </Link>
</div>

## A (Animatable Elements)

`A` is a proxy: `A.div`, `A.button`, etc. It runs WAAPI animations based on the tokens in `an`.

```tsx
import { A } from "@vercel/animal/react";

export function Button() {
  return (
    <A.button
      an="hover:lift press:compress duration-180 ease-out"
      className="h-10 rounded-md bg-white px-4 text-sm font-medium text-black"
      type="button"
    >
      Button
    </A.button>
  );
}
```

## Presence

Wrap content with `Presence` to let exit animations finish before unmount.

```tsx
import { A, Presence } from "@vercel/animal/react";

export function Modal({ open }: { open: boolean }) {
  return (
    <Presence present={open}>
      <A.div
        an="enter:fade-up exit:fade-down duration-240 ease-in-out"
        role="dialog"
        aria-modal="true"
      >
        Modal
      </A.div>
    </Presence>
  );
}
```

## Stagger

Wrap sibling `A.*` elements in `Stagger` to automatically apply incremental delays to each child's enter animation.

```tsx
import { A, Stagger } from "@vercel/animal/react";

export function List({ items }: { items: { id: string; name: string }[] }) {
  return (
    <Stagger stagger={80}>
      {items.map(item => (
        <A.div key={item.id} an="enter:fade-up">
          {item.name}
        </A.div>
      ))}
    </Stagger>
  );
}
```

| Prop | Type | Description |
| --- | --- | --- |
| `stagger` | `number` | Delay in ms between each child's animation start. |
| `children` | `ReactNode` | Child elements (typically A.* components). |

## useInView

A hook that tracks whether an element is visible in the viewport using `IntersectionObserver`. For most cases, the `in-view` token on the `an` prop is simpler, but this hook gives manual control.

```tsx
import { useInView } from "@vercel/animal/react";

export function LazySection() {
  const { ref, inView } = useInView({ once: true, threshold: 0.1 });
  return (
    <div ref={ref}>
      {inView ? <ExpensiveContent /> : <Placeholder />}
    </div>
  );
}
```

| Option | Type | Default | Description |
| --- | --- | --- | --- |
| `threshold` | `number` | 0.1 | Visibility ratio (0-1) to trigger. |
| `rootMargin` | `string` | "0px" | Margin around the root (viewport). |
| `once` | `boolean` | true | Stop observing after first intersection. |

## in-view Token

Add `in-view` to the `an` prop to defer enter animations until the element scrolls into the viewport. Use `in-view-repeat` to re-trigger every time.

```tsx
<A.div an="enter:fade-up in-view">
  Animates when scrolled into view
</A.div>

<A.div an="enter:fade-up in-view-repeat">
  Re-animates every time it enters the viewport
</A.div>
```

## Loop

Add `loop` to repeat an enter animation infinitely, or `loop-<count>` for a specific number of iterations (e.g. `loop-3`). Loop has no effect on exit animations.

```tsx
<A.div an="enter:scale scale-1.2 duration-800 ease-in-out loop">
  Pulses infinitely
</A.div>

<A.div an="enter:fade-up loop-3">
  Repeats 3 times then stops
</A.div>
```

## Keyframe Presets

Multi-step keyframe presets for richer enter and exit animations:

| Token | Description |
| --- | --- |
| `enter:bounce-in` | Bounce in with elastic overshoot (600ms, linear timing). |
| `enter:elastic-scale` | Scale in with elastic bounce (600ms, linear timing). |
| `enter:drop-in` | Drop in from above with bounce (600ms, linear timing). |
| `exit:zoom-out` | Scale up and fade out (240ms, ease-in-out). |

```tsx
<A.div an="enter:bounce-in">
  Bouncy entrance
</A.div>
```

## scroll-progress Token

Add `scroll-progress` to link animation progress to the element's scroll position. The animation plays from 0% to 100% as the element traverses the viewport. Mutually exclusive with `in-view`.

```tsx
<A.div an="enter:fade-up scroll-progress y-40">
  Parallax content that animates as you scroll
</A.div>
```

## useScrollProgress

A hook that returns a 0-1 progress value based on an element's scroll position within the viewport. For most cases, the `scroll-progress` token is simpler, but this hook gives manual control for custom scroll-driven effects.

```tsx
import { useScrollProgress } from "@vercel/animal/react";

export function ParallaxSection() {
  const { ref, progress } = useScrollProgress({ start: 0, end: 1 });
  return (
    <div ref={ref} style={{ opacity: progress }}>
      Custom scroll-driven animation
    </div>
  );
}
```

| Option | Type | Default | Description |
| --- | --- | --- | --- |
| `start` | `number` | 0 | Viewport fraction where tracking starts (0 = element enters bottom). |
| `end` | `number` | 1 | Viewport fraction where tracking ends (1 = element exits top). |
| `clamp` | `boolean` | true | Clamp progress to [0, 1]. |
